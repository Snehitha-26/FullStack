<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Resume Viewer</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
    }
    .resume {
      border: 1px solid #ccc;
      padding: 20px;
      margin-bottom: 20px;
      max-height: 300px;
      overflow-y: auto;
    }
    .hidden {
      display: none;
    }
    form {
      border: 1px solid #ccc;
      padding: 15px;
      max-width: 400px;
    }
    label {
      display: block;
      margin-top: 10px;
    }
    input, button {
      width: 100%;
      padding: 8px;
      margin-top: 5px;
    }
    #thankYou {
      border: 1px solid #4CAF50;
      background: #E8F5E9;
      color: #2E7D32;
      padding: 15px;
      margin-top: 20px;
      max-width: 400px;
      display: none;
    }
  </style>
</head>
<body>

  <h1>Resume Viewer</h1>

  <!-- Resume Section -->
  <div id="resume" class="resume">
    <h2>John Doe</h2>
    <p><strong>Experience:</strong></p>
    <ul>
      <li>Software Engineer at XYZ Corp (2019 - Present)</li>
      <li>Web Developer at ABC Ltd (2016 - 2019)</li>
    </ul>
    <p><strong>Education:</strong></p>
    <ul>
      <li>B.Sc. Computer Science - University of Example (2012 - 2016)</li>
    </ul>
    <p><strong>Skills:</strong> HTML, CSS, JavaScript, React, Node.js</p>
  </div>

  <!-- Form Section -->
  <div id="formContainer" class="hidden">
    <h2>Submit Your Details</h2>
    <form id="contactForm" action="https://formspree.io/f/your-form-id" method="POST">
      <label for="name">Your Name</label>
      <input type="text" name="name" required>

      <label for="email">Your Email</label>
      <input type="email" name="email" required>

      <button type="submit">Submit</button>
    </form>
    <div id="thankYou">✅ Thank you! Your details have been submitted.</div>
  </div>

  <script>
    const formContainer = document.getElementById("formContainer");
    const form = document.getElementById("contactForm");
    const thankYou = document.getElementById("thankYou");

    // Always show form after 5 seconds
    setTimeout(() => {
      formContainer.classList.remove("hidden");
    }, 5000);

    // Handle form submission
    form.addEventListener("submit", async function (e) {
      e.preventDefault();
      const formData = new FormData(form);

      try {
        const response = await fetch(form.action, {
          method: "POST",
          body: formData,
          headers: { "Accept": "application/json" }
        });

        if (response.ok) {
          form.style.display = "none";
          thankYou.style.display = "block";
        } else {
          thankYou.style.display = "block";
          thankYou.textContent = "❌ Oops! Something went wrong.";
        }
      } catch (error) {
        thankYou.style.display = "block";
        thankYou.textContent = "⚠️ Network error. Please try again.";
      }
    });
  </script>

</body>
</html>
